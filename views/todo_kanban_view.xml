<?xml version="1.0"?>
<odoo>

  <!-- Add Kanban view mode to the menu Action: -->
  <record id="todo_app.action_todo_task" model="ir.actions.act_window">
    <field name="view_mode">kanban,tree,form,calendar,graph,pivot</field>
  </record>

  <!-- Add Kanban view -->
  <record id="todo_task_kanban" model="ir.ui.view">
    <field name="model">todo.task</field>
    <field name="arch" type="xml">
      <kanban default_group_by="stage_id" class="o_kanban_small_column">
        <!-- Fields to use in expressions -->
        <field name="stage_id"/>
        <field name="color"/>
        <field name="kanban_state"/>
        <field name="priority"/>
        <field name="is_done"/>
        <field name="message_partner_ids"/>
        <!-- Optional progress bar -->
        <progressbar
          field="kanban_state"
          colors='{"done": "success", "blocked": "danger"}'/>
        <!-- Templates with HTML snippets to use ... -->
        <templates>
          <t t-name="kanban-box">
            <!-- HTML QWeb template ... -->
          </t>
        </templates>
      </kanban>
    </field>
  </record>
</odoo>
